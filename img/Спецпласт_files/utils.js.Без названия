'use strict';var _StringfromCharCode=String.fromCharCode;define('U',['require','_','jquery','guid','normalizeUrl','sprintf','functionPrototypeOkPatcher'],function(a,c,f,h,k,l){var o=[];f(document).on('keydown',function(w){if(27==w.keyCode&&27==w.keyCode&&0<o.length){f(document).data('disableCtrlZ',!1);var x=o.pop();x()}}),f.ajaxSetup({success:function success(w){!0===this.api&&(w[0]&&this.noOk?this.noOk(w[0]):this.ok(w[1]))}}),f.fn.moveUp=function(){f.each(this,function(){f(this).after(f(this).prev())})},f.fn.moveDown=function(){f.each(this,function(){f(this).before(f(this).next())})},f.fn.moveTo=function(w){return f(this).each(function(){if(!(w>f(this).parent().children().length||0>w))for(;f(this).index()!=w;)f(this).index()<w?f(this).moveDown():f(this).moveUp()})},f.fn.classes=function(w){var x=[];return f.each(this,function(y,z){var A=z.className.split(/\s+/);A.forEach(function(B,C){var D=A[C];''!==D&&x.push(D)})}),x=f.unique(x),'function'==typeof w&&x.forEach(function(y,z){w(x[z])}),x};var q,p=[];for(q=65;90>=q;q++)p.push(_StringfromCharCode(q));for(q=97;122>=q;q++)p.push(_StringfromCharCode(q));for(q=48;57>=q;q++)p.push(_StringfromCharCode(q));var u={params:window.cache,cancelCurrentEdit:function cancelCurrentEdit(w){f(document).trigger('cancelCurrentEdit').off('cancelCurrentEdit').on('cancelCurrentEdit',w)},delay:function delay(w,x,y){var z;return function(A,B){clearTimeout(z),z=setTimeout(function(){w.call(x,A)},null===B?y:B)}},diff:function diff(w,x){var y={};return Object.keys(w).forEach(function(z){w[z]!=x[z]&&(y[z]=w[z])}),y},extendClass:function extendClass(w,x){var y=function F(){};y.prototype=x.prototype,w.prototype=new y,w.prototype.constructor=w,w.superclass=x.prototype},fileSizeToStr:function fileSizeToStr(w){var x=['\u043A\u0431','\u043C\u0431'],y='';if(1024>w)y=w;else for(;1<=w/1024;)w=(w/1024).toFixed(2),y=w+' '+x.shift();return y},getCookie:function getCookie(w){var x=document.cookie.match(new RegExp('(?:^|; )'+w.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,'\\$1')+'=([^;]*)'));return x?decodeURIComponent(x[1]):void 0},setCookie:function(x,y,z){z=z||{};var A=z.expires;if('number'==typeof A&&A){var B=new Date;B.setTime(B.getTime()+1e3*A),A=z.expires=B}A&&A.toUTCString&&(z.expires=A.toUTCString()),y=encodeURIComponent(y);var C=x+'='+y;for(var D in z)if(z.hasOwnProperty(D)){C+='; '+D;var E=z[D];!0!==E&&(C+='='+E)}document.cookie=C},limiter:function limiter(w,x){var y=null;return x||(x=300),function(){var z=this,A=arguments;clearTimeout(y),y=setTimeout(function(){w.apply(z,A)},x)}},ok:function ok(w){return function(){var x=Array.prototype.slice.call(arguments);try{var y=x.shift();if(y)throw console.log(y),'error';else w.apply(null,x)}catch(z){throw console.log(z),'error'}}},parse:function parse(w,x){var y={},z=y,A=w.split('.');if(1==A)return x;for(var B=0;B<A.length-1;B++)y[A[B]]={},y=y[A[B]];return y[A[B]]=x,z},requireCss:function requireCss(w){var x=new Error;if(console.log('U.requireCss is deprecated. Use requireCssR or require(["css!/public/style.css"], function () {}) instead.',x.stack?x.stack.toString().split('\n')[2]:'no stack'),null!==w)if('array'==f.type(w))for(var y=0,z=w.length;y<z;y++)0===f('link[href="'+w[y]+'"]').length&&f('head').append('<link rel="stylesheet" href="'+w[y]+'"/>');else 0===f('link[href="'+w+'"]').length&&f('head').append('<link rel="stylesheet" href="'+w+'"/>')},requireCssR:function requireCssR(w,x){if(w){var y=[];f.isArray(w)?f.each(w,function(z,A){A&&y.push('css!'+A)}):'string'==typeof w&&y.push('css!'+w),0<y.length?a(y,function(){x&&x()}):x&&x()}else x&&x()},randStr:function randStr(w){for(var x='',y=0;y<w;)x+=p[Math.floor(Math.random()*p.length)],y++;return x},sprintf:l,splitArgs:function splitArgs(w){return function(x){w.apply(null,x)}},guid:h,normalizeUrl:k,layers:{on:function on(w,x){o.push(x),f(document).data('disableCtrlZ',!0)},off:function off(w){var x=o.pop();f(document).data('disableCtrlZ',!1),w&&x&&x()}},checkUrl:function checkUrl(w){var x=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return x.test(w)},extTemplate:function extTemplate(w,x,y){return c.template(w.replace(/<%[-|=|\s]\s*include\s*(.*?)\s*%>/g,function(z,A){return x[A]}),y)},getScrollWidth:function getScrollWidth(){if(!this.scrollWidth){var w=f('<div>',{style:'width: 100%; height: 2px; visibility: hidden; opacity: 0;',html:'<div><br>|<br>|<br></div>'}).appendTo('body'),x=w.find('div'),y=x.outerWidth();w.css('overflow-y','scroll');var z=x.outerWidth();x=null,w.remove(),this.scrollWidth=y-z}return this.scrollWidth},overlay:{add:function add(w){var x=f.extend({to:f('#ul-content'),onClick:function onClick(){}},w),y=f('<div class="ul-disabled-overlay">').appendTo(x.to).click(x.onClick);return f(x.except).addClass('ul-widget ul-disabled-overlay-element'),u.layers.on(0,x.onClick),{$el:y,remove:function remove(){y.remove(),f(x.except).removeClass('ul-widget ul-disabled-overlay-element')}}}},hist:{cb:function cb(){},_init:function _init(w,x){window.onpopstate=this.popState,window.history.replaceState(w.data,w.title,w.url),this.cb=x},pushState:function pushState(w){window.onpopstate||(window.onpopstate=this.popState),window.history.pushState(w.data,w.title,w.url)},popState:function popState(w){w.state&&u.hist.cb(w.state)}},orderFormUrl:{get:function get(w){var x='#='+u.randStr(2)+'-'+u.randStr(2)+'=';return(null!=w||void 0!=w)&&(x+=w),x},check:function check(w){var x=/#=.{2}-.{2}=/;return x.test(w)?w.replace(x,''):null}},escapeHtml:function escapeHtml(w){return w.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#039;')},acl:{isResourceAllowed:function isResourceAllowed(w){return u.params.acl&&u.params.acl.resources&&u.params.acl.resources[w]},getRole:function getRole(){return u.params.acl&&u.params.acl.role&&u.params.acl.role}},getUrlParam:function getUrlParam(w){var z,x=decodeURIComponent(window.location.search.substring(1)),y=x.split('&');return y.forEach(function(A){var B=A.split('=');B[0]===w&&(z=void 0===B[1]||B[1])}),z},smoothScrollIntoView:function smoothScrollIntoView(w){if(!w.$el||!w.$parent)return void console.error('No $el or $parent. Can not scroll into view');w=c.extend({elHeight:w.$el.outerHeight(),topViewportMargin:0,bottomViewportMargin:0,duration:450,onPositionCalculated:function onPositionCalculated(){},onComplete:function onComplete(){}},w);var x=w.$parent,y=x.offset().top+w.topViewportMargin,z=x.outerHeight()-w.topViewportMargin-w.bottomViewportMargin,A=w.elHeight,B=w.$el.offset().top-y;if(0>B||0>z-(B+A)){var C=A>=z||0>B?B+x.scrollTop():x.scrollTop()+(B+A-z);x.animate({scrollTop:C},{duration:w.duration}).promise().done(function(){x.clearQueue(),w.onComplete()}),w.onPositionCalculated(C)}else;},hexToRgb:function hexToRgb(w){if('string'!=typeof w)return null;var x=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;w=w.replace(x,function(z,A,B,C){return A+A+B+B+C+C});var y=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(w);return y?{r:parseInt(y[1],16),g:parseInt(y[2],16),b:parseInt(y[3],16)}:null},generateTitle:function generateTitle(w,x,y){var z=w+y,A=x.filter(function(B){return new RegExp('^'+z+'\\s*\\d*$','i').test(B)}).map(function(B){return+(B.match(/\d+$/)||['1'])[0]}).sort().pop();return A===void 0?z:z+' '+(A+1)}};return u});
//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map

//# sourceMappingURL=utils.js.map
